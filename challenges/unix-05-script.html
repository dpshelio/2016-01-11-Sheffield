---
layout: page
root: ..
---


<h2>Unix Shell - Shell Scripts</h2>

<section class="challenge panel panel-success">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>Variables in shell scripts</h2>
</div>
<div class="panel-body">
<p>In the molecules directory, you have a shell script called <code>script.sh</code> containing the following commands:</p>
<pre><code>head $2 $1
tail $3 $1</code></pre>
<p>While you are in the molecules directory, you type the following command:</p>
<pre><code>bash script.sh &#39;*.pdb&#39; -1 -1</code></pre>
<p>Which of the following outputs would you expect to see?</p>
<ol style="list-style-type: decimal">
<li>All of the lines between the first and the last lines of each file ending in <code>*.pdb</code> in the molecules directory</li>
<li>The first and the last line of each file ending in <code>*.pdb</code> in the molecules directory</li>
<li>The first and the last line of each file in the molecules directory</li>
<li>An error because of the quotes around <code>*.pdb</code></li>
</ol>
</div>
</section>

<section class="challenge panel panel-success">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>Find the longest file with a given extension</h2>
</div>
<div class="panel-body">
<p>Write a shell script called <code>longest.sh</code> that takes the name of a directory and a filename extension as its parameters, and prints out the name of the file with the most lines in that directory with that extension. For example:</p>
<pre><code>$ bash longest.sh /tmp/data pdb</code></pre>
<p>would print the name of the <code>.pdb</code> file in <code>/tmp/data</code> that has the most lines.</p>
</div>
</section>

<section class="challenge panel panel-success">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>Script reading comprehension</h2>
</div>
<div class="panel-body">
<p>Joelâ€™s <code>data</code> directory contains three files: <code>fructose.dat</code>, <code>glucose.dat</code>, and <code>sucrose.dat</code>. Explain what a script called <code>example.sh</code> would do when run as <code>bash example.sh *.dat</code> if it contained the following lines:</p>
<pre><code># Script 1
echo *.*</code></pre>
<pre><code># Script 2
for filename in $1 $2 $3
do
    cat $filename
done</code></pre>
<pre><code># Script 3
echo $@.dat</code></pre>
</div>
</section>

<section class="challenge panel panel-success2">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>List unique species</h2>
</div>
<div class="panel-body">
<p>Leah has several hundred data files, each of which is formatted like this:</p>
<pre><code>2013-11-05,deer,5
2013-11-05,rabbit,22
2013-11-05,raccoon,7
2013-11-06,rabbit,19
2013-11-06,deer,2
2013-11-06,fox,1
2013-11-07,rabbit,18
2013-11-07,bear,1</code></pre>
<p>Write a shell script called <code>species.sh</code> that takes any number of filenames as command-line parameters, and uses <code>cut</code>, <code>sort</code>, and <code>uniq</code> to print a list of the unique species appearing in each of those files separately.</p>
</div>
</section>

<section class="challenge panel panel-success2">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>Why record commands in the history before running them?</h2>
</div>
<div class="panel-body">
<p>If you run the command:</p>
<pre><code>history | tail -5 &gt; recent.sh</code></pre>
<p>the last command in the file is the <code>history</code> command itself, i.e., the shell has added <code>history</code> to the command log before actually running it. In fact, the shell <em>always</em> adds commands to the log before running them. Why do you think it does this?</p>
</div>
</section>

